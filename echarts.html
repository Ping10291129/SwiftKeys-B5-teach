<!doctype html>
<html lang="zh">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>SwiftKeysåå°ç®¡ç†</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="./css/font.css">
    <link rel="stylesheet" href="./css/index.css">
</head>

<body>
    <div id="loading">
        <div id="loading-center"></div>
    </div>
    <div class="wrapper">
        <div class="iq-sidebar">
            <div class="iq-sidebar-logo d-flex justify-content-between">
                <a href=""> <span>SwiftKeysåå°ç®¡ç†</span>
                </a>
            </div>
            <div id="sidebar-scrollbar">
                <nav class="iq-sidebar-menu">
                    <ul class="iq-menu">
                        <li>
                            <a href="index.html" class="iq-waves-effect"><i
                                    class="ri-home-8-fill"></i><span>é¦–é¡µ</span></a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="iq-waves-effect"><i
                                    class="ri-shield-user-fill"></i><span>ç®¡ç†å‘˜ä¸­å¿ƒ</span><i
                                    class="ri-arrow-right-s-line iq-arrow-right"></i></a>
                            <ul class="iq-submenu">
                                <li><a href="edit_profile.html">èµ„æ–™ç¼–è¾‘</a></li>
                                <li><a href="change_password.html">ä¿®æ”¹å¯†ç </a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="iq-waves-effect"><i
                                    class="ri-user-settings-fill"></i>ç”¨æˆ·åˆ—è¡¨<i
                                    class="ri-arrow-right-s-line iq-arrow-right"></i></a>
                            <ul class="iq-submenu">
                                <li><a href="my_users.html">æˆ‘çš„ç”¨æˆ·</a></li>
                                <li><a href="add_user.html">æ·»åŠ ç”¨æˆ·</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="iq-waves-effect"><i class="ri-todo-fill"></i>æ‰“å­—æµ‹è¯•<i
                                    class="ri-arrow-right-s-line iq-arrow-right"></i></a>
                            <ul class="iq-submenu">
                                <li><a href="typing_test.html">æ‰“å­—æµ‹è¯•</a></li>
                                <li><a href="test_records.html">æµ‹è¯•è®°å½•</a></li>
                            </ul>
                        </li>
                        <li class="active">
                            <a href="javascript:void(0);" class="iq-waves-effect"><i
                                    class="ri-bar-chart-2-fill"></i><span>æˆç»©ç»Ÿè®¡</span><i
                                    class="ri-arrow-right-s-line iq-arrow-right"></i></a>
                            <ul class="iq-submenu">
                                <li class="active"><a href="score_list.html">æˆç»©åˆ—è¡¨</a></li>
                                <li><a href="score_review.html">æˆç»©å®¡æ ¸</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="anomaly_monitoring.html" class="iq-waves-effect"><i
                                    class="ri-alarm-warning-fill"></i><span>å¼‚å¸¸ç›‘æ§</span></a>
                        </li>
                        <li>
                            <a href="javascript:void(0);" class="iq-waves-effect"><i
                                    class="ri-file-edit-fill"></i><span>é¢˜åº“ç®¡ç†</span><i
                                    class="ri-arrow-right-s-line iq-arrow-right"></i></a>
                            <ul class="iq-submenu">
                                <li><a href="question_bank.html">æ‰€æœ‰é¢˜ç›®</a></li>
                                <li><a href="package_management.html">å¥—é¤ç®¡ç†</a></li>
                            </ul>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
        <!-- Page Content  -->
        <div id="content-page" class="content-page">
            <!-- TOP Nav Bar -->
            <div class="iq-top-navbar">
                <div class="iq-navbar-custom">
                    <nav class="navbar navbar-expand-lg navbar-light p-0">
                        <div class="iq-search-bar">
                            <form action="javascript:;" class="searchbox">
                                <input type="text" class="text search-input" placeholder="è¯·è¾“å…¥æœç´¢å†…å®¹...">
                                <a class="search-link" href="#"><i class="ri-search-line"></i></a>
                            </form>
                        </div>
                        <div class="iq-menu-bt align-self-center align-right-san">
                            <div class="wrapper-menu">
                                <div class="main-circle"><i class="ri-more-fill"></i></div>
                                <div class="hover-circle"><i class="ri-more-2-fill"></i></div>
                            </div>
                        </div>
                        <div class="collapse navbar-collapse" id="navbarSupportedContent">
                            <ul class="navbar-nav ml-auto navbar-list">
                                <li class="nav-item iq-full-screen">
                                    <a href="#" class="iq-waves-effect" id="btnFullscreen"><i
                                            class="ri-fullscreen-line"></i></a>
                                </li>
                            </ul>
                        </div>
                        <ul class="navbar-list">
                            <li>
                                <a href="#" class="search-toggle iq-waves-effect d-flex align-items-center">
                                    <img src="images/user1.jpg" class="img-fluid rounded mr-3" alt="user">
                                    <div class="caption">
                                        <h6 class="mb-0 line-height">ZYX</h6>
                                        <span class="font-size-12">è¶…çº§ğŸ‚å¯Œç‡•å†›</span>
                                    </div>
                                </a>
                                <div class="iq-sub-dropdown iq-user-dropdown">
                                    <div class="iq-card shadow-none m-0">
                                        <div class="iq-card-body p-0 ">
                                            <div class="bg-primary p-3">
                                                <h5 class="mb-0 text-white line-height">ä½ å¥½-èƒ¡æ¾é¹¤</h5>
                                            </div>
                                            <a href="profile.html" class="iq-sub-card iq-bg-primary-hover">
                                                <div class="media align-items-center">
                                                    <div class="rounded iq-card-icon iq-bg-primary">
                                                        <i class="ri-file-user-line"></i>
                                                    </div>
                                                    <div class="media-body ml-3">
                                                        <h6 class="mb-0 ">ä¸ªäººä¸­å¿ƒ</h6>
                                                    </div>
                                                </div>
                                            </a>
                                            <a href="profile-edit.html" class="iq-sub-card iq-bg-primary-hover">
                                                <div class="media align-items-center">
                                                    <div class="rounded iq-card-icon iq-bg-primary">
                                                        <i class="ri-profile-line"></i>
                                                    </div>
                                                    <div class="media-body ml-3">
                                                        <h6 class="mb-0 ">ä¿®æ”¹å¯†ç </h6>
                                                    </div>
                                                </div>
                                                <a href="account-setting.html" class="iq-sub-card iq-bg-primary-hover">
                                                    <div class="media align-items-center">
                                                        <div class="rounded iq-card-icon iq-bg-primary">
                                                            <i class="ri-account-box-line"></i>
                                                        </div>
                                                        <div class="media-body ml-3">
                                                            <h6 class="mb-0 ">ç³»ç»Ÿè®¾ç½®</h6>
                                                        </div>
                                                    </div>
                                                </a>
                                                <div class="d-inline-block w-100 text-center p-3">
                                                    <a class="bg-primary iq-sign-btn" href="login.html"
                                                        role="button">é€€å‡ºç™»å½•<i class="ri-login-box-line ml-2"></i></a>
                                                </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
            <!-- TOP Nav Bar END -->
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-12">
                        <div class="iq-card">
                        </div>
                    </div>
                </div>
            </div>
            <!-- Footer -->
            <footer class="bg-white iq-footer">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-lg-6">
                            <ul class="list-inline mb-0">
                                <li class="list-inline-item"><a href="#">ä½¿ç”¨å¸®åŠ©</a></li>
                                <li class="list-inline-item"><a href="#">è¿›å…¥å®˜ç½‘</a></li>
                            </ul>
                        </div>
                        <div class="col-lg-6 text-right">
                            Copyright 2024 <a href="">SwiftKeysåå°ç®¡ç†</a> ç‰ˆæƒæ‰€æœ‰
                        </div>
                    </div>
                </div>
            </footer>
            <!-- Footer END -->
        </div>
    </div>
    <!-- Wrapper END -->

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/smooth-scrollbar.js"></script>
    <script src="js/custom.js"></script>
    <script src="js/echarts.min.js"></script>

    <script>
        $(function () {
            // ç”Ÿæˆæœ€è¿‘ 60 å¤©çš„æ•°æ®
            function generateFullData() {
                var fullDataX = [];
                var dataMale = [];
                var dataFemale = [];
                var now = new Date();
                for (var i = 59; i >= 0; i--) {
                    var d = new Date(now.getTime() - i * 24 * 3600 * 1000);
                    var month = d.getMonth() + 1;
                    var day = d.getDate();
                    fullDataX.push((month < 10 ? '0' + month : month) + '-' + (day < 10 ? '0' + day : day));
                    dataMale.push(Math.round(Math.random() * 100) + 50); // ç”·ç”Ÿéšæœºæ•°æ®
                    dataFemale.push(Math.round(Math.random() * 100) + 50); // å¥³ç”Ÿéšæœºæ•°æ®
                }
                return { fullDataX, dataMale, dataFemale };
            }

            // å­˜å‚¨å…¨é‡æ•°æ®
            var fullData = generateFullData();

            // åˆå§‹åŒ– ECharts å®ä¾‹
            var myChart = echarts.init(document.getElementById('echart1'));

            // æ›´æ–°ç»Ÿè®¡æ•°æ®
            function updateStats(dataMale, dataFemale) {
                // è®¡ç®—æ‰€æœ‰æ•°æ®çš„æ€»å’Œ
                const total = dataMale.reduce((a, b) => a + b, 0) + dataFemale.reduce((a, b) => a + b, 0);
                // åªè®¡ç®—æœ€è¿‘7å¤©çš„æ•°æ®æ€»å’Œ
                const weekTotal = (dataMale.slice(-7).reduce((a, b) => a + b, 0) + dataFemale.slice(-7).reduce((a, b) => a + b, 0)) * 0.8;
                document.querySelector('.ysnm2 div:first-child span').textContent = total;
                document.querySelector('.ysnm2 div:last-child span').textContent = Math.round(weekTotal);
            }

            // æ›´æ–°å›¾è¡¨å‡½æ•°
            function updateChart(range) {
                let dataX = [];
                let dataMale = [];
                let dataFemale = [];
                let total = fullData.fullDataX.length;

                // å¤„ç†ä¸åŒæ—¶é—´èŒƒå›´çš„æ•°æ®
                if (range === 'week') {
                    dataX = fullData.fullDataX.slice(total - 7);
                    dataMale = fullData.dataMale.slice(total - 7);
                    dataFemale = fullData.dataFemale.slice(total - 7);
                } else if (range === 'month') {
                    dataX = fullData.fullDataX.slice(total - 30);
                    dataMale = fullData.dataMale.slice(total - 30);
                    dataFemale = fullData.dataFemale.slice(total - 30);
                } else if (range === 'all') {
                    dataX = fullData.fullDataX;
                    dataMale = fullData.dataMale;
                    dataFemale = fullData.dataFemale;
                }

                // æ›´æ–°ç»Ÿè®¡æ•°æ®
                updateStats(dataMale, dataFemale);

                // è®¾ç½®å›¾è¡¨é…ç½®
                const option = {
                    tooltip: {
                        trigger: 'axis',
                        axisPointer: {
                            type: 'cross'
                        }
                    },
                    toolbox: {
                        orient: 'vertical',
                        top: 'center',
                        feature: {
                            show: true,
                            magicType: {
                                type: ['stack', 'tiled', 'line', 'bar']
                            }
                        }
                    },
                    color: ["#0080ff", "#4cd5ce"],
                    legend: {
                        textStyle: { color: '#999' }
                    },
                    dataZoom: [],  // é»˜è®¤ä¸ºç©ºæ•°ç»„
                    xAxis: {
                        type: 'category',
                        boundaryGap: false,
                        data: dataX,
                        splitLine: {
                            show: true,
                            lineStyle: { color: '#666', type: 'dotted' }
                        },
                        axisTick: {
                            show: false
                        },
                        axisLine: {
                            show: false
                        },
                        axisLabel: {
                            textStyle: { color: '#777' }
                        }
                    },
                    yAxis: {
                        type: 'value',
                        position: 'right',
                        axisLine: {
                            show: false
                        },
                        axisTick: {
                            show: false
                        },
                        splitNumber: 3,
                        splitLine: {
                            show: true,
                            lineStyle: { color: '#666', type: 'dotted' }
                        },
                        axisLabel: {
                            textStyle: { color: '#777' }
                        }
                    },
                    grid: {
                        top: '10%',
                        bottom: '10%',
                        right: '5%',
                        left: '5%',
                        containLabel: true
                    },
                    series: [{
                        name: 'ç”·ç”Ÿ',
                        type: 'line',
                        stack: '1',
                        showSymbol: false,
                        symbolSize: 0,
                        data: dataMale,
                        itemStyle: {
                            color: '#fff',
                            borderWidth: 10,
                            borderColor: "#FF69B4"
                        },
                        itemStyle: {
                            color: {
                                type: 'linear',
                                colorStops: [
                                    { offset: 0, color: '#4B96FF' },
                                    { offset: 1, color: '#2B5FF7' }
                                ]
                            },
                        },
                        lineStyle: {
                            width: 3,
                            shadowColor: 'rgba(43,95,247, 0.3)',
                            shadowBlur: 10,
                            shadowOffsetY: 20
                        },
                        areaStyle: {}
                    }, {
                        name: 'å¥³ç”Ÿ',
                        type: 'line',
                        showSymbol: false,
                        symbolSize: 0,
                        stack: '1',
                        data: dataFemale,
                        itemStyle: {
                            color: {
                                type: 'linear',
                                colorStops: [
                                    { offset: 0, color: '#FF69B4' },
                                    { offset: 1, color: '#FF1493' }
                                ]
                            },
                        },
                        lineStyle: {
                            width: 3,
                            shadowColor: 'rgba(255,105,180, 0.3)',
                            shadowBlur: 10,
                            shadowOffsetY: 20
                        },
                        areaStyle: {}
                    }]
                };

                // ä¸º'all'èŒƒå›´æ·»åŠ dataZoomé…ç½®
                if (range === 'all') {
                    option.dataZoom = [{
                        type: 'slider',
                        start: ((total - 30) / total) * 100,
                        end: 100
                    }];
                } else {
                    // ç¡®ä¿åœ¨å‘¨è§†å›¾å’Œæœˆè§†å›¾æ—¶ç§»é™¤dataZoomç»„ä»¶
                    option.dataZoom = [];
                }

                // æ›´æ–°å›¾è¡¨ï¼Œå¼ºåˆ¶æ¸…é™¤ä¹‹å‰çš„é…ç½®
                myChart.clear();
                myChart.setOption(option);
            }

            // å°†updateChartå‡½æ•°æš´éœ²åˆ°å…¨å±€ä½œç”¨åŸŸ
            window.updateChart = updateChart;

            // é»˜è®¤åŠ è½½"ä¸€å‘¨"æ•°æ®
            updateChart('week');

            // ç›‘å¬çª—å£å¤§å°å˜åŒ–å’Œå…¨å±çŠ¶æ€å˜åŒ–ï¼Œä¿è¯è‡ªé€‚åº”
            function handleResize() {
                setTimeout(() => {
                    myChart.resize();
                }, 200);
            }

            // ç›‘å¬çª—å£å¤§å°å˜åŒ–
            window.addEventListener("resize", handleResize);

            // ç›‘å¬å…¨å±çŠ¶æ€å˜åŒ–
            document.addEventListener("fullscreenchange", handleResize);
            document.addEventListener("webkitfullscreenchange", handleResize);
            document.addEventListener("mozfullscreenchange", handleResize);
            document.addEventListener("MSFullscreenChange", handleResize);

        })
    </script>

</body>
<script src="./js/index.js"></script>

</html>